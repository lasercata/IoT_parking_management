\documentclass[a4paper, 11pt]{article}


%------------------------------------------------------------------------
%
% Author                :   Flow, Lasercata
% Last modification     :   2026.01.30
%
%------------------------------------------------------------------------

%---------Init {{{1
%------Lang
%\usepackage[french]{babel}
%\usepackage[english]{babel}


%See https://github.com/lasercata/LaTeX_Templates for the file latex_base.sty
\input{style/latex_base.sty}

% \input{data/data_template.sty}
\input{data/data.sty}

\renewcommand{\arraystretch}{1.4}
%}}}1

%------Title (with default LaTeX style)
\title{IoT-Based smart parking system for disabled people}
\author{
    \Names
}
\date{\today}

%---------------------------------Begin Document
\begin{document}
    
    % Title {{{1
    % \thetitle{}{}
    \maketitle
    
    \setcounter{tocdepth}{2} % hide subsubsections from the table of contents
    \tableofcontents
    %\listoffigures
    \listoftables
    %\listofalgorithms
    %\lstlistoflistings
    \newpage
    % }}}1
    
    \begin{indt}{\section{Chosen Scenario}}% {{{1
        This project focuses on the design of an IoT-based smart parking system dedicated to people with disabilities. The objective is to ensure fair usage of reserved parking spaces, prevent fraud related to authorization cloning, and improve accessibility by providing real-time availability and booking capabilities.

        Each parking space is equipped with an IoT node capable of detecting vehicle presence and verifying the validity of a disabled parking authorization. The system continuously monitors parking activity and communicates with a centralized backend that manages authorizations, detects anomalies, and informs law enforcement when violations are detected.

        In addition, an interface allows authorized users to visualize nearby available parking spaces, reserve a spot up to one hour in advance, and receive feedback on their parking session. 
    \end{indt}% }}}1

    \begin{indt}{\section{State of the Art}}
        Several existing smart parking projects can be identified. Two different kinds can be distinguished:
        those relying on user-side or infrastructure-based sensing (such as cameras or smartphones), and
        those deploying a dedicated device for each parking space.
        
        Considering projects based on a dedicated hardware device, several academic and prototype solutions
        were identified. The following works are particularly relevant and are studied here:
        
        \begin{indi}{}
            \item [1] Priyanshu Bhardwaj, \\
            "An IoT-Driven Smart Parking Framework with RFID-Based Vehicle Authentication",
            \textit{International Journal on Science and Technology (IJSAT)}, 2025.\\
            \url{https://www.researchgate.net/publication/395954332}
        
            \item [2] Ramyashree B R, Theerthashree G S, \\
            "RFID Based Smart Parking Using IOT", 
            \textit{International Journal of Scientific Research in Engineering and Management (IJSREM)}, 2025.\\
            \url{https://rjwave.org/ijedr/papers/IJEDR2504423.pdf}
            
            \item [3] A. O. Elfaki, W. Messoudi, A. Bushnag, S. Abuzneid and T. Alhmiedat,\\
            "Smart Real-Time Parking Control and Monitoring System", 
            \textit{Journal Sensors}, volume 23, Issue 24, 2023.\\
            \url{https://www.mdpi.com/1424-8220/23/24/9741}
        
            \item [4] Gustavo P. C. P. da Luz, Gabriel Massuyoshi Sato, Luis Fernando Gomez Gonzalez and Juliana Freitag Borin,\\
            "Smart Parking with Pixel-Wise ROI Selection for Vehicle Detection Using YOLOv8, YOLOv9, YOLOv10, and YOLOv11", 
            \textit{arXiv}, 2024.\\
            \url{https://arxiv.org/abs/2412.01983}
        \end{indi}
        
        These projects address different aspects of smart parking systems, ranging from identity-based access control to camera-based occupancy detection.
    \end{indt}
    
    \begin{table}[h]
        \centering
        \renewcommand{\arraystretch}{1.2}
        \begin{tabular}{|p{1.5cm}|p{2cm}|p{3cm}|p{3cm}|p{3cm}|p{3cm}|}
        \hline
        
          \textbf{Project}        
        & \textbf{Sensors}          
        & \textbf{Detection method}                 
        & \textbf{Board}                
        & \textbf{Communication}   
        & \textbf{Interface} 
        
        \\
        \hline
        
        [1]        
        & IR sensor, RFID reader   
        & Slot occupancy and RFID authentication   
        & ESP8266 NodeMCU             
        & Wi-Fi (HTTP, IoT cloud) 
        & Web dashboard 
        
        \\
        \hline
        
        [2]     
        & IR sensor, RFID reader       
        & Slot occupancy and RFID authentication      
        & Arduino Uno       
        & None (local wired only) 
        & LEDs
        
        \\
        \hline
        
       [3]   
        & Ultrasonic sensors       
        & Distance-based vehicle detection          
        & Microcontroller (unspecified)
        & Client-server IoT network 
        & Web interface 
        
        \\
        \hline
        
        [4]   
        & Cameras                   
        & Computer vision (CNN, YOLO)              
        & No embedded device
        & IP network 
        & Web monitoring platform 
        
        \\
        \hline
        
        \end{tabular}
        \caption{Comparison of existing smart parking solutions}
    \end{table}

    \begin{indt}{\section{Functional Requirements}} %{{{1
        \begin{table}[H]% {{{2
            \centering
        
            \begin{tabular}{|l p{350pt}|}
                \hline
                \multicolumn{2}{|c|}{
                    \textbf{FR1}
                    --- Occupancy detection
                }
                \\
                \hline
                \hline
                \textbf{Description}
                & The solution is able to detect the presence of a vehicle on a disabled parking space.
                \\
                \hline
                \textbf{Input}
                & Sensor data
                \\
                \textbf{Output}
                & Occupancy status (occupied / free)
                \\
                \hline
            \end{tabular}
        
            \caption{\textbf{FR1} --- Occupancy detection}
            \label{tab:fr1}
        \end{table}% }}}2

        \begin{table}[H]% {{{2
            \centering
        
            \begin{tabular}{|l p{350pt}|}
                \hline
                \multicolumn{2}{|c|}{
                    \textbf{FR2} --- Authorization verification
                }
                \\
                \hline
                \hline
                \textbf{Description}
                & The solution is able to verify the validity of a disabled parking authorization upon vehicle detection.
                \\
                \hline
                \textbf{Input}
                & Vehicle identifier, authorization ID
                \\
                \textbf{Output}
                & Authorization status (valid / invalid / expired)
                \\
                \hline
            \end{tabular}
        
            \caption{\textbf{FR2} --- Authorization verification}
            \label{tab:fr2}
        \end{table}% }}}2

        \begin{table}[H]% {{{2
            \centering
        
            \begin{tabular}{|l p{350pt}|}
                \hline
                \multicolumn{2}{|c|}{
                    \textbf{FR3} --- Authorization cloning detection
                }
                \\
                \hline
                \hline
                \textbf{Description}
                & The solution is able to identify simultaneous usage of the same authorization on geographically distinct parking spaces.
                \\
                \hline
                \textbf{Input}
                & Authorization ID, GPS location, timestamps
                \\
                \textbf{Output}
                & Cloning alert / None
                \\
                \hline
            \end{tabular}
        
            \caption{\textbf{FR3} --- Authorization cloning detection}
            \label{tab:fr3}
        \end{table}% }}}2

        \begin{table}[H]% {{{2
            \centering
        
            \begin{tabular}{|l p{350pt}|}
                \hline
                \multicolumn{2}{|c|}{
                    \textbf{FR4} --- Violation identification
                }
                \\
                \hline
                \hline
                \textbf{Description}
                & The solution is able to identify unauthorized parking, expired authorizations, or missing authorizations.
                \\
                \hline
                \textbf{Input}
                & Occupancy status, authorization status
                \\
                \textbf{Output}
                & Violation flag
                \\
                \hline
            \end{tabular}
        
            \caption{\textbf{FR4} --- Violation identification}
            \label{tab:fr4}
        \end{table}% }}}2

        \begin{table}[H]% {{{2
            \centering
        
            \begin{tabular}{|l p{350pt}|}
                \hline
                \multicolumn{2}{|c|}{
                    \textbf{FR5} --- Authority notification
                }
                \\
                \hline
                \hline
                \textbf{Description}
                & The solution is able to notify law enforcement authorities in real time when a violation or cloning event is detected.
                \\
                \hline
                \textbf{Input}
                & Violation flag or cloning alert 
                \\
                \textbf{Output}
                & Notification message sent to authorities
                \\
                \hline
            \end{tabular}
        
            \caption{\textbf{FR5} --- Authority notification}
            \label{tab:fr5}
        \end{table}% }}}2

        \begin{table}[H]% {{{2
            \centering
        
            \begin{tabular}{|l p{350pt}|}
                \hline
                \multicolumn{2}{|c|}{
                    \textbf{FR6} --- Parking availability visualization
                }
                \\
                \hline
                \hline
                \textbf{Description}
                & The solution is able to provide real-time availability of disabled parking spaces within a selected geographical area.
                \\
                \hline
                \textbf{Input}
                & Parking spot status data
                \\
                \textbf{Output}
                & Availability map / list
                \\
                \hline
            \end{tabular}
        
            \caption{\textbf{FR6} --- Parking availability visualization}
            \label{tab:fr6}
        \end{table}% }}}2

        \begin{table}[H]% {{{2
            \centering
        
            \begin{tabular}{|l p{350pt}|}
                \hline
                \multicolumn{2}{|c|}{
                    \textbf{FR7} --- Parking reservation
                }
                \\
                \hline
                \hline
                \textbf{Description}
                & The user is able to reserve a parking space up to one hour in advance.
                \\
                \hline
                \textbf{Input}
                & User request, parking availability
                \\
                \textbf{Output}
                & Reservation confirmation
                \\
                \hline
            \end{tabular}
        
            \caption{\textbf{FR7} --- Parking reservation}
            \label{tab:fr7}
        \end{table}% }}}2

        \begin{table}[H]% {{{2
            \centering
        
            \begin{tabular}{|l p{350pt}|}
                \hline
                \multicolumn{2}{|c|}{
                    \textbf{FR8} --- Reservation timeout management
                }
                \\
                \hline
                \hline
                \textbf{Description}
                & The solution is able to automatically cancel reservations if the vehicle does not arrive within a predefined grace period.
                \\
                \hline
                \textbf{Input}
                & Reservation timestamp, occupancy status
                \\
                \textbf{Output}
                & Reservation cancellation notice (to the user), occupancy status set to free
                \\
                \hline
            \end{tabular}
        
            \caption{\textbf{FR8} --- Reservation timeout management}
            \label{tab:fr8}
        \end{table}% }}}2

        \begin{table}[H]% {{{2
            \centering
        
            \begin{tabular}{|l p{350pt}|}
                \hline
                \multicolumn{2}{|c|}{
                    \textbf{FR9} --- Parking occupancy status
                }
                \\
                \hline
                \hline
                \textbf{Description}
                & The solution is able to display its current status
                \\
                \hline
                \textbf{Input}
                & Sensor data, reservation data
                \\
                \textbf{Output}
                & Status indicator
                \\
                \hline
            \end{tabular}
        
            \caption{\textbf{FR9} --- Parking occupancy status}
            \label{tab:fr9}
        \end{table}% }}}2

        \begin{table}[H]% {{{2
            \centering
        
            \begin{tabular}{|l p{350pt}|}
                \hline
                \multicolumn{2}{|c|}{
                    \textbf{FR10} --- User registration
                }
                \\
                \hline
                \hline
                \textbf{Description}
                & The user/admin is able to register to the platform
                \\
                \hline
                \textbf{Input}
                & User registration data
                \\
                \textbf{Output}
                & User account created
                \\
                \hline
            \end{tabular}
        
            \caption{\textbf{FR10} --- User registration}
            \label{tab:fr10}
        \end{table}% }}}2
    \end{indt} %}}}1

    \begin{indt}{\section{Non-Functional Requirements}} %{{{1
        \begin{table}[H]
            \centering

            \begin{tabular}{p{2cm} p{4cm} p{8cm}}
                \hline

                \textbf{ID}
                & \textbf{Category}
                & \textbf{Requirement}
                \\

                \hline
                NFR1
                & Performance
                & It is possible to complete occupancy detection and authorization verification within 10 seconds after vehicle arrival.
                \\

                NFR2
                & Reliability
                & The system is available at least 99\% of the time and tolerant to temporary network outages.
                \\

                NFR3
                & Durability
                & The IoT nodes are reliable in outdoor environments with temperatures ranging from -20\textdegree C to 60\textdegree C.
                \\

                NFR4
                & Portability
                & The system is portable, allowing new parking nodes to be integrated without modifying existing nodes or backend services.
                \\

                NFR5
                & Resource efficiency
                & The parking node energy consumption is below 100 mW on average and supports low-power operating modes.
                \\

                NFR6
                & Security
                & The system must be secure from basic cybersecurity threats (\textit{e.g} communications are encrypted)
                \\

                NFR7
                & Privacy
                & The system must limit the amount of personal data processed, and limit the access of needed data (\textit{e.g} identifiers are anonymized).
                \\

                NFR8
                & Affordability
                & The hardware cost per parking space and the software maintenance cost is compatible with large-scale municipal deployment.
                \\

                NFR9
                & Compatibility
                & The application must be compatible with end users' devices
                \\

                \hline
            \end{tabular}

            \caption{Non-Functional Requirements}
            \label{tab:nfr}
        \end{table}
    \end{indt} %}}}1

    \begin{indt}{\section{Analysis}} %{{{1
        \begin{indt}{\subsection{Board selection}} %{{{2
            TODO (this is a global choice)

            Node MCU ESP8266, Arduino UNO, Raspberry Pi 3
        \end{indt} %}}}2

        \begin{indt}{\subsection{User interface}} %{{{2
            \begin{indt}{\subsubsection{Introduction}} %{{{3
                To address the functional requirements \textbf{FR6} (parking availability visualization), \textbf{FR7} (advance reservation), and \textbf{FR10} (user registration), a \emph{user interface} is needed.
                
                The user interface must support role differentiation (user, regulator, administrator) and give different permissions to each.

                It must also enable administrators to list all the nodes and monitor their status.
                
                \begin{indi}{Possible options are as follows:}
                    \item Native phone app
                    \item Web app
                    \item Command line tool (can be in the form of a Discord/Telegram bot)
                \end{indi}
            \end{indt} %}}}3

            \begin{indt}{\subsubsection{Comparison of user interfaces}} %{{{3
                \begin{table}[H]% {{{4
                    \centering

                    {\small
                    \begin{tabular}{p{3cm} p{80pt} p{80pt} p{80pt} p{80pt}}
                        \hline
                        \textbf{Technology}
                        & \textbf{Reliability (NF2)}
                        & \textbf{Privacy (NF7)}
                        & \textbf{Afforda\-bility (NF8)}
                        & \textbf{Compati\-bility (NF9)}
                        \\

                        \hline
                        Phone app
                        & \cellcolor{pastelOrange} Depends on network, but can cache data
                        & \cellcolor{pastelGreen} Good privacy is possible
                        & \cellcolor{pastelRed} Need to maintain multiple app versions
                        & \cellcolor{pastelRed} Users need compatible phone
                        \\

                        Web app
                        & \cellcolor{pastelRed} Depends on network's availability
                        & \cellcolor{pastelGreen} Good privacy is possible
                        & \cellcolor{pastelGreen} Low maintenance cost
                        & \cellcolor{pastelGreen} Most users' devices are able to interact with web pages
                        \\

                        Command line app
                        & \cellcolor{pastelOrange} Depends on network, but can cache data
                        & \cellcolor{pastelOrange} If using Discord/Telegram, data is shared to that third-party
                        & \cellcolor{pastelGreen} Low maintenance cost
                        & \cellcolor{pastelOrange} While probably compatible with user's devices, it is not user-friendly
                        \\

                        \hline
                    \end{tabular}
                    }

                    \caption{Comparison of user interfaces}
                    \label{tab:UI_comparison}
                \end{table}% }}}4
            \end{indt} %}}}3

            \begin{indt}{\subsubsection{Conclusion}} %{{{3
                In the light of the \autoref{tab:UI_comparison}, the \emph{web interface} seems the most appropriate for the user interface as it has the largest compatibility.
                Regarding reliability, in the event of a network outage, no real time data is possible. Even if with a native application, it might possible to cache data, it will become outdated and the visualisation will be wrong.
                We put a stronger emphasis on the compatibility of end user's device.

                This interface will also be appropriate to implement the multi-level authorizations (admin, user, ...)
            \end{indt} %}}}3
        \end{indt} %}}}2

        \begin{indt}{\subsection{Network protocols}} %{{{2
            To fulfil the functional requirements \textbf{FR5} (authority notification), \textbf{FR6} (Real time parking visualization), \textbf{FR7} (advance reservation), there need to be communication between the different entities (the \emph{nodes}, the \emph{IoT platform}, and the \emph{user interface} (UI)).

            \begin{indi}{Based on the requirements, there are three types of communications:}
                \item[(1)] platform $\longleftarrow$ UI (visualization, reservation)
                \item[(2)] platform $\longrightarrow$ UI (authority notification)
                \item[(3)] nodes $\longrightarrow$ platform (status update for visualization, violation notification)
                \item[(4)] nodes $\longleftarrow$ platform (reservation)
            \end{indi}

            \vspace{6pt}
            
            $\bullet$ The case (2) is addressed in the \autoref{sub:fr5}.

            \vspace{6pt}
            
            $\bullet$ For the case (1), the only relevant option is to use the HTTP client/server protocol, with the platform being the server.

            \vspace{6pt}
            
            $\bullet$ For (3), the update must be fast in order to have a \emph{real-time} visualization. Here again, the client/server model seems more appropriate: the nodes are clients that connect to the server (the platform) when something occurs. It provides a real-time update and it light for the nodes (that have limited resources).

            \vspace{6pt}
            
            $\bullet$ Remain the case (4). Here the platform has to send data to a given node.

            \begin{indi}{The following approaches are possible:}
                \item[(A)] client/server, each node implements a server ;
                \item[(B)] client/server, platform is the server and the nodes regularly check for update ;
                \item[(C)] publish-subscriber, each node subscribes to a topic with its ID so that the platform can publish to a given node.
            \end{indi}

            \begin{table}[H]% {{{3
                \centering

                {\small
                \begin{tabular}{p{3cm} p{80pt} p{80pt} p{80pt} p{80pt}}
                    \hline
                    \textbf{Protocol}
                    & \textbf{Performance (NF1)}
                    & \textbf{Reliability (NF2)}
                    & \textbf{Portability (NF4)}
                    & \textbf{Resource efficiency (NF5)}
                    \\

                    \hline
                    (A)
                    & \cellcolor{pastelGreen} Good performance
                    & \cellcolor{pastelOrange} Each node is independent, but depend on the platform
                    & \cellcolor{pastelRed} Need to update the platform when adding new nodes
                    & \cellcolor{pastelRed} Each node being a server consumes a lot
                    \\

                    (B)
                    & \cellcolor{pastelOrange} Depends on the frequency of requests
                    & \cellcolor{pastelOrange} Each node is independent, but depend on the platform
                    & \cellcolor{pastelGreen} Adding/removing nodes is transparent
                    & \cellcolor{pastelRed} Generate a lot of network traffic
                    \\

                    (C)
                    & \cellcolor{pastelGreen} Good performance
                    & \cellcolor{pastelOrange} Each node is independent, but depend on the platform
                    & \cellcolor{pastelGreen} Adding/removing nodes is transparent
                    & \cellcolor{pastelOrange} Generally lower power needed
                    \\

                    \hline
                \end{tabular}
                }

                \caption{Comparison of protocols for Platform $\longrightarrow$ node communication}
                \label{tab:protocols_comparison}
            \end{table}% }}}3

            According to \autoref{tab:protocols_comparison}, the publish-subscriber solution seems the most appropriated approach for this communication.
        \end{indt} %}}}2

        \begin{indt}{\subsection{FR1 -- Occupancy detection}} %{{{2
            \begin{indt}{\subsubsection{Introduction}} %{{{3
                The objective of this functional requirement is to detect the presence of a vehicle occupying a disabled parking space. Several sensing technologies can be considered. They are first compared at a technology level against the non-functional requirements (NFR) of the system, in order to identify the most suitable candidates before selecting specific sensors.
            \end{indt} %}}}3

            \begin{indt}{\subsubsection{Comparison of occupancy detection technologies}} %{{{3
                Several sensing technologies can be considered to detect vehicle presence. \autoref{tab:technolog_fr1_comparison} presents a comparison of the most relevant options for this project.

                \begin{table}[H]
                    \centering
                    {\small
                    \begin{tabular}{p{60pt} p{55pt} p{55pt} p{55pt} p{55pt} p{45pt} p{38pt} p{55pt}}
                        \hline
                        \textbf{Technology}
                        & \textbf{NFR1\newline Performance}
                        & \textbf{NFR2\newline Reliability}
                        & \textbf{NFR3\newline Durability}
                        & \textbf{NFR4\newline Portability}
                        & \textbf{NFR5\newline Efficiency}
                        & \textbf{NFR7\newline Privacy}
                        & \textbf{NFR8\newline Affordability}
    
                        \\
                        %Colors : pastelGreen, pastelOrange, pastelRed
                        \hline
                        
                        Magnetometer
                        & \cellcolor{pastelGreen}   Fast detection
                        & \cellcolor{pastelGreen}   Long-term stability
                        & \cellcolor{pastelGreen}   Outdoor-proven
                        & \cellcolor{pastelGreen}   Easy node replication
                        & \cellcolor{pastelGreen}   Ultra-low power
                        & \cellcolor{pastelGreen}   No\newline personal data
                        & \cellcolor{pastelGreen}   Low cost
                        
                        \\
    
                        Ultrasonic sensor
                        & \cellcolor{pastelGreen}   Fast detection
                        & \cellcolor{pastelOrange}  Performance variability
                        & \cellcolor{pastelOrange}  Weather sensitive
                        & \cellcolor{pastelGreen}   Easy to integrate
                        & \cellcolor{pastelGreen}   Low power
                        & \cellcolor{pastelGreen}   No\newline personal data
                        & \cellcolor{pastelGreen}   Low cost
                        
                        \\
    
                        mmWave radar
                        & \cellcolor{pastelGreen}   Very high accuracy
                        & \cellcolor{pastelGreen}   High detection consistency
                        & \cellcolor{pastelGreen}   Wide temp range
                        & \cellcolor{pastelGreen}   Self-contained node
                        & \cellcolor{pastelOrange}  Moderate power
                        & \cellcolor{pastelGreen}   No\newline personal data
                        & \cellcolor{pastelOrange}  Higher unit cost
                        
                        \\
                        
                        Camera
                        & \cellcolor{pastelGreen}   High accuracy
                        & \cellcolor{pastelOrange}  Environment-dependent
                        & \cellcolor{pastelOrange}  Weather \& light sensitive
                        & \cellcolor{pastelOrange}  Heavier node
                        & \cellcolor{pastelRed}     High power
                        & \cellcolor{pastelRed}     Personal data processed
                        & \cellcolor{pastelOrange}  Moderate cost
                        
                        \\
    
                        Pressure\newline sensor
                        & \cellcolor{pastelGreen}   Very high accuracy
                        & \cellcolor{pastelGreen}   Long-term stability
                        & \cellcolor{pastelGreen}   Embedded
                        & \cellcolor{pastelRed}     Fixed infrastructure
                        & \cellcolor{pastelGreen}   Ultra-low power
                        & \cellcolor{pastelGreen}   No\newline personal data
                        & \cellcolor{pastelRed}     High installation cost
                        
                        \\
                        \hline
                    \end{tabular}
                    }
    
                    \caption{Technology comparison for FR1 (Occupancy detection)}
                    \label{tab:technolog_fr1_comparison}
                \end{table}
    
                \begin{indi}{Based on the NFR-driven comparison:}
                    \item Magnetometers best satisfy NFR2 (Reliability), NFR3 (Durability), NFR4 (Portability), NFR5 (Resource efficiency), NFR7 (Privacy), and NFR8 (Affordability). Their ultra-low power consumption, robustness in outdoor environments, and minimal privacy impact make them particularly suitable for large-scale deployment.
                    \item Ultrasonic sensors provide a cost-effective and simple detection solution that satisfies NFR1 (Performance) and NFR8 (Affordability). While their reliability can be affected by environmental conditions, these limitations are acceptable when combined with appropriate placement and signal filtering.
                    \item mmWave radar, although highly reliable and accurate, is not retained due to its higher cost and power consumption, which are less compatible with the constraints of large-scale deployment.
                \end{indi}

                We will now compare selected sensors for each chosen technology : 

                \begin{table}[H]
                    \centering
                    {\small
                    \begin{tabular}{p{60pt} p{55pt} p{55pt} p{60pt} p{55pt} p{45pt} p{38pt} p{55pt}}
                        \hline
                        \textbf{Technology}
                        & \textbf{NFR1\newline Performance}
                        & \textbf{NFR2\newline Reliability}
                        & \textbf{NFR3\newline Durability}
                        & \textbf{NFR4\newline Portability}
                        & \textbf{NFR5\newline Efficiency}
                        & \textbf{NFR7\newline Privacy}
                        & \textbf{NFR8\newline Affordability}
    
                        \\
                        
                        %Colors : pastelGreen, pastelOrange, pastelRed
                        \hline
                        HMC5883L
                        & \cellcolor{pastelOrange} meas.: $6\,\text{ms}$\newline turn-on: $200\,\mu\text{s}$
                        & \cellcolor{pastelGreen} FS: $\pm 8\,\text{G}$; res.: $5\,\text{mG}$
                        & \cellcolor{pastelGreen} $-30$ to $85\,^{\circ}\text{C}$
                        & \cellcolor{pastelGreen} 3x3x0.9 mm
                        & \cellcolor{pastelGreen} idle: $2$--$6\,\mu\text{A}$\newline meas.: $100\,\mu\text{A}$
                        & \cellcolor{pastelGreen} no personal data
                        & \cellcolor{pastelGreen} 2--4\,€
                        \\

                        LIS3MDL
                        & \cellcolor{pastelGreen} I$^2$C: $0.01$--$0.0025\,\text{ms}$
                        & \cellcolor{pastelGreen} FS:\newline $\pm4\text{G} \newline \pm8\text{G}\newline \pm12\text{G}\newline \pm16$\,G\newline sens.: $6842$--$1711$\,LSB/G
                        & \cellcolor{pastelGreen} $-40$ to $85\,^{\circ}\text{C}$
                        & \cellcolor{pastelGreen} 2x2x1 mm
                        & \cellcolor{pastelGreen} LP: $40\,\mu\text{A}$\newline HR:$270\mu\text{A}$ PD: $1\,\mu\text{A}$
                        & \cellcolor{pastelGreen} no personal data
                        & \cellcolor{pastelGreen} 2--4\,€
                        \\
                        
                        MMC5983MA
                        & \cellcolor{pastelGreen} ODR: $1\,\text{ms}$
                        & \cellcolor{pastelGreen} FS: $\pm 8$\,G\newline noise: $0.4$--$1.2$\,mG
                        & \cellcolor{pastelGreen} $-40$ to $105\,^{\circ}\text{C}$
                        & \cellcolor{pastelGreen} 3x3x1 mm
                        & \cellcolor{pastelRed} max: $450\,\mu\text{A}$ min: $32\,\mu\text{A}$\newline PD: $1\,\mu\text{A}$
                        & \cellcolor{pastelGreen} no personal data
                        & \cellcolor{pastelOrange} 3--5\,€
                        \\
                        
                        \hline
                    \end{tabular}
                    }
    
                    \caption{Magnetometer sensor comparison (for FR1 – Occupancy detection)}
                    \label{tab:magnetometer_comparison}
                \end{table}

                \begin{table}[H]
                    \centering
                    {\small
                    \begin{tabular}{p{60pt} p{55pt} p{55pt} p{60pt} p{55pt} p{45pt} p{38pt} p{55pt}}
                        \hline
                        \textbf{Technology}
                        & \textbf{NFR1\newline Performance}
                        & \textbf{NFR2\newline Reliability}
                        & \textbf{NFR3\newline Durability}
                        & \textbf{NFR4\newline Portability}
                        & \textbf{NFR5\newline Efficiency}
                        & \textbf{NFR7\newline Privacy}
                        & \textbf{NFR8\newline Affordability}
    
                        \\
                        
                        %Colors : pastelGreen, pastelOrange, pastelRed
                        \hline
                        
                        HC-SR04
                        & \cellcolor{pastelGreen} trig: $10\,\mu\text{s}$\newline ultrasonic: $0.025\,\text{ms}$
                        & \cellcolor{pastelOrange} range: $2$--$400\,\text{cm}$\newline optimal: $10$--$250\,\text{cm}$
                        & \cellcolor{pastelRed}  $-10$ to $50\,^{\circ}\text{C}$
                        & \cellcolor{pastelGreen} 45.5x20x15.5 mm
                        & \cellcolor{pastelOrange} meas.: $15\,\text{mA}$
                        & \cellcolor{pastelGreen} no personal data
                        & \cellcolor{pastelGreen} 2--5\,€
                        \\
                        
                        JSN-SR04T
                        & \cellcolor{pastelGreen} trig: $1$--$10\,\mu\text{s}$\newline ultrasonic: $0.025\,\text{ms}$
                        & \cellcolor{pastelGreen} range: $21$--$600\,\text{cm}$\newline acc.: $\pm1\,\text{cm}$; angle: $75^\circ$
                        & \cellcolor{pastelGreen} $-20$ to $70\,^{\circ}\text{C}$
                        & \cellcolor{pastelGreen} 41x29x12 mm
                        & \cellcolor{pastelGreen} meas.: $8\,\text{mA}$ (max)
                        & \cellcolor{pastelGreen} no personal data
                        & \cellcolor{pastelOrange} 7--12\,USD
                        \\
                        
                        MB7066
                        & \cellcolor{pastelGreen} read: $100\,\text{ms}$\newline ultrasonic: $0.024\,\text{ms}$
                        & \cellcolor{pastelGreen} range: $0$--$1068\,\text{cm}$\newline res.: $1\,\text{cm}$
                        & \cellcolor{pastelGreen} $-40$ to $70\,^{\circ}\text{C}$
                        & \cellcolor{pastelOrange} 66x44x44 mm
                        & \cellcolor{pastelGreen} avg.: $3.4\,\text{mA}$
                        & \cellcolor{pastelGreen} no personal data
                        & \cellcolor{pastelRed} 70\,€
                        \\
                        
                        \hline
                    \end{tabular}
                    }
    
                    \caption{Ultrasonic sensor comparison (for FR1 – Occupancy detection)}
                    \label{tab:ultrasonic_comparison}
                \end{table}
                
            \end{indt} %}}}3

            \begin{indt}{\subsubsection{Conclusion}} %{{{3
                The ultrasonic sensor \textbf{JSN-SR04T} emerges as the most suitable ultrasonic solution, achieving a balanced trade-off between detection performance (NFR1), environmental robustness (NFR3), cost-effectiveness (NFR8), and integration simplicity (NFR4). Its waterproof construction enables reliable operation in outdoor parking environments, making it particularly attractive for exposed installations. While ultrasonic sensing remains moderately sensitive to environmental factors such as temperature variations and surface conditions, the JSN-SR04T nonetheless provides acceptable performance for occupancy detection in controlled outdoor scenarios.
                
                Within the magnetic sensing category, the \textbf{LIS3MDL} magnetometer clearly outperforms alternative solutions by meeting all critical non-functional requirements. It offers high measurement reliability (NFR2), a wide operating temperature range suitable for harsh outdoor conditions (NFR3), extremely low power consumption (NFR5), a compact footprint facilitating seamless integration (NFR4), and a competitive cost profile (NFR8). Furthermore, as a passive sensor that does not collect identifiable information, it fully complies with privacy and data protection constraints (NFR7).

                Although both sensing technologies are technically viable for parking occupancy detection, the \textbf{LIS3MDL magnetometer} is retained as the primary solution for FR1. Compared to the ultrasonic alternative, it delivers more stable and weather-independent detection, significantly lower energy consumption, and superior scalability for long-term, large-scale municipal deployment. 

                The ultrasonic solution remains a relevant complementary or fallback option in specific deployment contexts; however, considering robustness, efficiency, and sustainability, the LIS3MDL represents the most reliable and future-proof choice for the objectives of this project.

            \end{indt} %}}}3

            \begin{indt}{\subsubsection{References}} %{{{3
                \begin{indi}[0pt]{}
                    \item HMC5883L \\
                        \url{https://www.farnell.com/datasheets/1683374.pdf}
                    \item LIS3MDL \\
                        \url{https://www.st.com/resource/en/datasheet/lis3mdl.pdf}
                    \item  MMC5983MA \\
                        \url{https://media.digikey.com/pdf/Data%20Sheets/MEMSIC%20PDFs/MMC5983MA_RevA_4-3-19.pdf}
                    \item HC-SR04 \\
                        \url{AfmBOoqgJk1Ae9gaQMog_Z40pvioIMT2Mbwldx9volQIyF4KeMp_n0zt}
                    \item  JSN-SR04T-3.0 \\
                        \url{https://rjrorwxhjiilll5q.ldycdn.com/JSN-SR04T-3.0-aidnqBpoKliRljSlqnqkilqj.pdf}
                    \item  MB7066  \\
                        \url{https://maxbotix.com/products/mb7066?srsltid=AfmBOoqEIVSvBMfivgPepWI8CKkaL7QnT86JSa6BEp5mJjJ7jSiUES8i}
                \end{indi}
            \end{indt} %}}}3
        \end{indt} %}}}2

        \begin{indt}{\subsection{FR2 -- Authorization verification}} %{{{2
            \label{sub:fr2}

            \begin{indt}{\subsubsection{Introduction}} %{{{3
                The purpose of this functional requirement is to verify the validity of a disabled parking authorization when a vehicle is detected occupying a reserved parking space. This step is essential to distinguish between legitimate users and unauthorized vehicles, ensuring that disabled parking spaces are used fairly and in accordance with regulations.

                In the context of the proposed IoT-based smart parking system, authorization verification must be reliable, secure, and fast. Once occupancy is detected, the system must be able to associate the vehicle with a valid authorization and determine whether this authorization is authentic and still valid. This functionality directly contributes to fraud prevention, particularly against expired permits or stolen identifiers, and forms the basis for subsequent violation detection and enforcement actions.
            \end{indt} %}}}3

            \begin{indt}{\subsubsection{Comparison of authorization verification technologies}} %{{{3
                Several technical approaches can be used to identify vehicles and verify disabled parking authorizations. \autoref{tab:fr2_comparison} compares the most relevant solutions for this project.

                \begin{indi}{Possible technologies:}
                    \item \textbf{RFID}: the user carries a RFID tag and present it to the node

                    \item \textbf{Bluetooth}: the user uses a phone application with the bluetooth activated or a dedicated tag.

                    \item \textbf{License plate recognition (LPR)}: the node reads the car's plate using a camera

                    \item \textbf{QR code on the node}: there is a QR code printed on each node (different for each) and the user scans it with a phone application

                    \item \textbf{QR code reader}: through its interface, the user generates a QR code that is read by the node
                \end{indi}

                \begin{table}[H]
                    \centering
                    {\small
                    \begin{tabular}{p{30pt} p{30pt} p{55pt} p{60pt} p{55pt} p{45pt} p{38pt} p{38pt} p{55pt}}
                        \hline
                        \textbf{Tech.}
                        & \textbf{NFR1\newline Perf.}
                        & \textbf{NFR2\newline Reliability}
                        & \textbf{NFR3\newline Durability}
                        & \textbf{NFR4\newline Portability}
                        & \textbf{NFR5\newline Efficiency}
                        & \textbf{NFR6\newline Security}
                        & \textbf{NFR7\newline Privacy}
                        & \textbf{NFR8\newline Affordability}
                        \\
                        \hline
                        
                        QR code
                        & \cellcolor{pastelGreen}   Fast
                        & \cellcolor{pastelOrange}  Phone-dependent
                        & \cellcolor{pastelGreen}   No electronics
                        & \cellcolor{pastelGreen}   Very high
                        & \cellcolor{pastelGreen}   Negligible
                        & \cellcolor{pastelOrange}  Public static identifier
                        & \cellcolor{pastelGreen}   No personal data
                        & \cellcolor{pastelRed}     User must have a compatible device (1)
                        \\

                        QR code reader
                        & \cellcolor{pastelGreen}   Fast
                        & \cellcolor{pastelGreen}   System-controlled
                        & \cellcolor{pastelOrange}  Outdoor exposure
                        & \cellcolor{pastelOrange}  Larger hardware
                        & \cellcolor{pastelOrange}  Moderate
                        & \cellcolor{pastelOrange}  Token based
                        & \cellcolor{pastelGreen}   No personal data
                        & \cellcolor{pastelOrange}  Medium
                        \\
                        
                        RFID
                        & \cellcolor{pastelGreen} Fast
                        & \cellcolor{pastelGreen} High
                        & \cellcolor{pastelGreen} High
                        & \cellcolor{pastelGreen} High
                        & \cellcolor{pastelGreen} Low 
                        & \cellcolor{pastelOrange} Possible cloning, preventable
                        & \cellcolor{pastelGreen} No personal data
                        & \cellcolor{pastelGreen} Low
                        \\
                        
                        BLE (smartphone)
                        & \cellcolor{pastelGreen}   Fast
                        & \cellcolor{pastelOrange}  Phone-dependent
                        & \cellcolor{pastelOrange}  Phone dependent
                        & \cellcolor{pastelGreen}   High
                        & \cellcolor{pastelOrange}  Moderate
                        & \cellcolor{pastelOrange}  Spoofing risk
                        & \cellcolor{pastelOrange}  Device identifier
                        & \cellcolor{pastelRed}     User must have a compatible device (1)
                        \\

                        BLE (tag)
                        & \cellcolor{pastelGreen}   Fast
                        & \cellcolor{pastelGreen}   High
                        & \cellcolor{pastelGreen}   High
                        & \cellcolor{pastelGreen}   High
                        & \cellcolor{pastelGreen}   Low
                        & \cellcolor{pastelOrange}  Spoofing risk
                        & \cellcolor{pastelGreen}   No personal data
                        & \cellcolor{pastelGreen}   Low
                        \\
                        
                        Camera (LPR)
                        & \cellcolor{pastelGreen}   Fast
                        & \cellcolor{pastelOrange}  Environment-dependent
                        & \cellcolor{pastelOrange}  Outdoor-sensitive
                        & \cellcolor{pastelOrange}  Complex setup
                        & \cellcolor{pastelRed}     High
                        & \cellcolor{pastelOrange}  Visual spoofing possible
                        & \cellcolor{pastelRed}     Personal data
                        & \cellcolor{pastelOrange}  Medium
                        \\
                        
                        \hline
                    \end{tabular}
                    }
                    \caption{Authorization verification technology comparison (FR2)}
                    \label{tab:fr2_comparison}
                \end{table}


                (1): This requires to develop and maintain applications for android and iOS, across multiple versions of the OSes, and requires that all users have a phone.

                % TODO: reliability (NF2) here does not take into account the network (in fact, for security, it should always check the validity from the server.)
            \end{indt} %}}}3
            
            \begin{indt}{\subsubsection{Conclusion}} %{{{3
                Among the considered authorization verification mechanisms, the identifier-based approach provides the best compromise between performance, reliability, privacy preservation, energy efficiency, and deployment cost. Solutions based on printed QR codes are simple and inexpensive but remain vulnerable to misuse and replay, while camera-based approaches introduce significant privacy concerns and higher system complexity.
            
                Identifier-based solutions using NFC or BLE tags allow fast and reliable authorization verification without requiring the collection of personal data, and are well suited for outdoor deployment and large-scale deployment. This approach also enables effective detection of expired or cloned authorizations through backend mechanisms.
            
                NFC or BLE-based authorization verification is therefore retained as the preferred solution for implementing FR2, as it satisfies the functional requirement while remaining compliant with the system’s non-functional constraints.
            \end{indt} %}}}3

            \begin{table}[H]
                \centering
                {\small
                \begin{tabular}{p{60pt} p{55pt} p{55pt} p{60pt} p{55pt} p{45pt} p{38pt} p{55pt}}
                    \hline
                    \textbf{Component}
                    & \textbf{NFR1\newline Performance}
                    & \textbf{NFR2\newline Reliability}
                    & \textbf{NFR3\newline Durability}
                    & \textbf{NFR4\newline Portability}
                    & \textbf{NFR5\newline Efficiency}
                    & \textbf{NFR7\newline Privacy}
                    & \textbf{NFR8\newline Affordability}
                    \\
                    \hline
                    %Colors : pastelGreen, pastelOrange, pastelRed
                    
                    PN532
                    & \cellcolor{pastelGreen} RF: $212/424\,\text{kbit/s}$\newline NFCIP-1: up to $424\,\text{kbit/s}$
                    & \cellcolor{pastelGreen} range: $50$--$100\,\text{mm}$\newline ISO14443 / FeliCa
                    & \cellcolor{pastelGreen} $-30$ to $85\,^{\circ}\text{C}$
                    & \cellcolor{pastelOrange} 43x41x4mm
                    & \cellcolor{pastelOrange} HPD: $1$--$2\,\mu\text{A}$\newline SPD: $22$--$45\,\mu\text{A}$\newline active: $25\,\text{mA}$; TX: $60$--$150\,\text{mA}$
                    & \cellcolor{pastelGreen} no personal data
                    & \cellcolor{pastelOrange} 10-25€
                    \\
                                        
                    ST25R3911B
                    & \cellcolor{pastelGreen} RF: $3.4$--$6.8\,\text{Mbit/s}$\newline SPI: $6\,\text{Mbit/s}$
                    & \cellcolor{pastelGreen} ISO14443 A/B\newline ISO15693; FeliCa; NFCIP-1
                    & \cellcolor{pastelGreen} $-40$ to $125\,^{\circ}\text{C}$
                    & \cellcolor{pastelGreen} 5x5 mm
                    & \cellcolor{pastelRed} TX power: up to $1.4\,\text{W}$
                    & \cellcolor{pastelGreen} no personal data
                    & \cellcolor{pastelGreen} 4 - 10€
                    \\

                    RC522
                    & \cellcolor{pastelGreen} RF: up to $848\,\text{kBd}$\newline SPI: $10\,\text{Mbit/s}$\newline I$^2$C: $400$--$3400\,\text{kBd}$\newline UART: $1228.8\,\text{kBd}$
                    & \cellcolor{pastelGreen} range: up to $50\,\text{mm}$\newline ISO14443A / MIFARE / NTAG
                    & \cellcolor{pastelGreen} $-25$ to $85\,^{\circ}\text{C}$
                    & \cellcolor{pastelOrange} 39x59.5
                    & \cellcolor{pastelOrange} HPD: $\leq5\,\mu\text{A}$\newline SPD: $\leq10\,\mu\text{A}$\newline dig.: $6.5$--$9\,\text{mA}$\newline ana.: $3$--$10\,\text{mA}$\newline TX: $60$--$100\,\text{mA}$
                    & \cellcolor{pastelGreen} no personal data
                    & \cellcolor{pastelGreen} 5€
                    \\

                    \hline
                \end{tabular}
                }
                \caption{NFC reader comparison for authorization verification (FR2)}
                \label{tab:fr2_nfc_comparison}
            \end{table}

            \begin{table}[H]
                \centering
                {\small
                \begin{tabular}{p{60pt} p{55pt} p{55pt} p{60pt} p{55pt} p{45pt} p{38pt} p{55pt}}
                    \hline
                    \textbf{Component}
                    & \textbf{NFR1\newline Performance}
                    & \textbf{NFR2\newline Reliability}
                    & \textbf{NFR3\newline Durability}
                    & \textbf{NFR4\newline Portability}
                    & \textbf{NFR5\newline Efficiency}
                    & \textbf{NFR7\newline Privacy}
                    & \textbf{NFR8\newline Affordability}
                    \\
                    \hline
                    
                    nRF52832
                    & \cellcolor{pastelGreen} BLE: $1/2\,\text{Mbit/s}$
                    & \cellcolor{pastelGreen} sens.: $-96\,\text{dBm}$\newline TX: $-20$ to $+4\,\text{dBm}$
                    & \cellcolor{pastelGreen} storage: $-40$ to $125\,^{\circ}\text{C}$
                    & \cellcolor{pastelGreen} 6x6 mm (QFN48)\newline 3.0x3.2 mm (WLCSP)
                    & \cellcolor{pastelGreen} TX: $5.3\,\text{mA}$; RX: $5.4\,\text{mA}$\newline OFF: $0.3$--$0.7\,\mu\text{A}$\newline ON: $1.9\,\mu\text{A}$
                    & \cellcolor{pastelGreen} no personal data
                    & \cellcolor{pastelGreen} 3€
                    \\
                    
                    nRF52840
                    & \cellcolor{pastelGreen} BLE: $2/1/0.5/0.125\,\text{Mbit/s}$\newline $250\,\text{kbit/s}$
                    & \cellcolor{pastelGreen} sens.: $-103$ to $-89\,\text{dBm}$\newline TX: $-20$ to $+8\,\text{dBm}$
                    & \cellcolor{pastelGreen} storage: $-40$ to $125\,^{\circ}\text{C}$
                    & \cellcolor{pastelOrange} 7x7 mm (aQFN73)\newline 6x6 mm (QFN48)\newline 3.5x3.6 mm (WLCSP94)
                    & \cellcolor{pastelGreen} TX: $6.4$--$16.4\,\text{mA}$\newline RX: $6.26\,\text{mA}$\newline OFF: $0.4$--$1.86\,\mu\text{A}$\newline ON: $0.97$--$3.16\,\mu\text{A}$
                    & \cellcolor{pastelGreen} no personal data
                    & \cellcolor{pastelOrange} 4 - 5€
                    \\
                    
                    ESP32 (BLE)
                    & \cellcolor{pastelOrange} BLE: $1\,\text{Mbit/s}$
                    & \cellcolor{pastelOrange} TX: $+10\,\text{dBm}$\newline sens.: $-98\,\text{dBm}$
                    & \cellcolor{pastelGreen} $-40$ to $85\,^{\circ}\text{C}$
                    & \cellcolor{pastelGreen} 6x6 mm (QFN48)
                    & \cellcolor{pastelRed} TX (BLE): $\approx130\,\text{mA}$\newline RX (BLE): $\approx95\,\text{mA}$\newline sleep: $<10\,\mu\text{A}$
                    & \cellcolor{pastelGreen} no personal data
                    & \cellcolor{pastelRed} 10 - 12€
                    \\
                    
                    \hline
                \end{tabular}
                }
                \caption{BLE tag/module comparison for authorization verification (FR2)}
                \label{tab:fr2_ble_comparison}
            \end{table}
            
            \begin{indt}{\subsubsection{References}} %{{{3
                \begin{indi}[0pt]{}
                    \item PN532 \\
                        \url{https://www.nxp.com/docs/en/nxp/data-sheets/PN532_C1.pdf}
                    \item ST25R3911B \\
                        \url{https://www.st.com/resource/en/datasheet/st25r3911b.pdf}
                    \item RC522 \\
                        \url{https://www.nxp.com/docs/en/data-sheet/MFRC522.pdf}
                    \item  nRF52832 \\
                        \url{https://www.mouser.com/datasheet/2/297/nRF52832_PS_v1_8-2942485.pdf?srsltid=AfmBOoo9n4_EaF3MnbrdnOF_RJarP5XHm6LFrIZ6vz10-iwqlFAtiVsc}
                    \item nRF52840 \\
                        \url{https://www.mouser.com/datasheet/2/297/nrf52840_soc_v3_0-2942478.pdf?srsltid=AfmBOorbVdt1C1CK4AhXirzDBJGzVHEBn_wYVgSABXg5qlGZLTQ2Yol6}
                    \item ESP 32 (BLE)\\
                        \url{https://cdn.sparkfun.com/datasheets/IoT/esp32_datasheet_en.pdf}
                \end{indi}
            \end{indt} %}}}3
        \end{indt} %}}}2

        \begin{indt}{\subsection{FR3 -- Authorization cloning detection}} %{{{2
            \begin{indt}{\subsubsection{Introduction}} %{{{3
                The objective of this functional requirement is to detect the simultaneous use of the same disabled parking authorization across distinct parking spaces.
                Authorization cloning represents a significant form of fraud, where a single valid identifier is duplicated or shared in order to illegally occupy multiple reserved spaces at the same time.

                This functionality is essential to ensure fairness, preserve trust in the system, and support law enforcement by automatically flagging suspicious behaviour.

                \vspace{12pt}

                Independently of the choice of the authorization technology (\textit{cf} \autoref{sub:fr2}), the authorization will be based on some kind of identifier (ID).
                \begin{indi}{But the type of the ID varies:}
                    \item In the case of the \textbf{QR code on the node}, the ID identifies the node itself. Here, authorization cloning means that the same user account scans multiple distinct nodes.

                    \item In the other cases, the ID represent the user. Cloning here means that multiple distinct nodes read the same user ID.

                    \item For the \textbf{QR code on the node} and for the \textbf{license plate reader}, the ID is fixed and not customizable.
                \end{indi}
                
                \begin{indi}{So to address this requirement, multiple options are possible:}
                    \item If the ID represents the user, it will be retrieved by the node. In this case, to detect cloning, the node can either ask all the other nodes if the same ID is in use, or ask the IoT platform.
                        Otherwise, if the ID represent the node, it is only possible to address this requirement in the IoT platform.

                    \item If the ID represents the user and is customizable, it is possible to include in it a random part, modified/generated at each reading, that will be used for authentication (like a one time code), thus making it impossible to have two valid authorisations at the same time.
                \end{indi}
            \end{indt} %}}}3

            \begin{indt}{\subsubsection{Comparison of cloning detection approaches}} %{{{3
                \begin{table}[H]% {{{4
                    \centering

                    {\small
                    \begin{tabular}{p{3cm} p{100pt} p{100pt} p{100pt}}
                        \hline
                        \textbf{Approach}
                        & \textbf{Performan\-ce (NF1)}
                        & \textbf{Reliability (NF2)}
                        & \textbf{Resource efficiency (NF5)}
                        \\

                        \hline
                        Detection at the \emph{nodes} level
                        & \cellcolor{pastelRed} A lot of network overhead
                        & \cellcolor{pastelOrange} If a node's network is down, it will not answer
                        & \cellcolor{pastelRed} Due to the numerous network requests, high energy consumption
                        \\

                        Detection at the \emph{Platform} level
                        & \cellcolor{pastelGreen} Good performance (one network request)
                        & \cellcolor{pastelOrange} needs connection to the Platform
                        & \cellcolor{pastelGreen} low consumption
                        \\

                        \hline
                    \end{tabular}
                    }

                    \caption{Comparison of Authorization Cloning Detection Approaches}
                    \label{tab:fr3_comparison}
                \end{table}% }}}4
            \end{indt} %}}}3

            \begin{indt}{\subsubsection{Conclusion}} %{{{3
                In the light of the \autoref{tab:fr3_comparison}, the detection seems more advantageous at the \emph{Platform} level.

                Furthermore, by correlating authorization identifiers with spatial and temporal data received from distributed parking nodes, the system can identify inconsistencies that are physically impossible under normal usage conditions.
            \end{indt} %}}}3
        \end{indt} %}}}2

        \begin{indt}{\subsection{FR4 -- Violation identification}} %{{{2
            \begin{indt}{\subsubsection{Introduction}} %{{{3
                The objective of this functional requirement is to identify parking violations related to disabled parking spaces, including unauthorized parking, expired authorizations, or the absence of any valid authorization. This functionality represents a critical decision layer within the smart parking system, as it transforms raw detection and verification data into actionable enforcement events.
                
                In the context of an IoT-based smart parking system, violation identification relies on the correlation of occupancy detection results with authorization verification outcomes. By applying predefined decision rules, the system can automatically and consistently determine whether a parking event complies with regulations. This automation reduces the need for manual inspection, improves fairness, and ensures that violations are detected in real time.
            \end{indt} %}}}3
        \end{indt} %}}}2

        \begin{indt}{\subsection{FR5 -- Authority notification}} %{{{2
            \label{sub:fr5}

            \begin{indt}{\subsubsection{Introduction}} %{{{3
                The objective of this functional requirement is to notify law enforcement authorities in real time when the system detects either (i) a parking violation (unauthorized parking, expired or missing authorization) or (ii) an authorization cloning event. This capability is essential to enable timely enforcement actions, thereby increasing deterrence and improving the effective availability of disabled parking spaces for legitimate users.

                Within the proposed IoT-based smart parking system, authority notification is the final step of a multi-stage detection and validation process. The notification chain must also be secure and auditable because it can initiate enforcement actions. Practically, this implies (1) a dependable communication path from the parking node to the backend and (2) a standardized, secure mechanism from the backend to the authority endpoint (e.g., secure REST API, email/SMS fallback, or an event feed).
                
                This section therefore first examines the technological approaches used to detect and gather evidences of violations, before comparing the communication technologies suitable for transmitting validated events to law enforcement authorities.
                
                %TODO: here maybe two tables are needed: one to compare the \emph{protocols} (e.g HTTP, MQTT, CoaP, ...), and one to compare the \emph{authority endpoint} (SMS, Discord, Email, WhatsApp, push notification on smartphone, ad hoc app, ...)
            \end{indt} %}}}3

            \begin{indt}{\subsubsection{Comparison of real-time notification solutions}} %{{{3

                Once the system identifies a violation event (unauthorized parking, expired/missing authorization, or cloning), it must collect the minimum set of information required for enforcement. In practice, this includes a vehicle identifier, a timestamped occupancy context, and the parking space location/ID. Several approaches can be used to associate a violation with a vehicle, each with different impacts on privacy, cost, and deployability. The first step is therefore to compare the main evidence acquisition solutions against the non-functional requirements.
                
                \autoref{tab:fr5_evidence_acquisition} compares several viable approaches to collect information regarding a violation detection. 

                \begin{table}[H]
                    \centering
                    {\small
                    \begin{tabular}{p{65pt} p{55pt} p{55pt} p{60pt} p{55pt} p{45pt} p{38pt} p{55pt}}
                        \hline
                        \textbf{Approach}
                        & \textbf{NFR1\newline Performance}
                        & \textbf{NFR2\newline Reliability}
                        & \textbf{NFR3\newline Durability}
                        & \textbf{NFR4\newline Portability}
                        & \textbf{NFR5\newline Efficiency}
                        & \textbf{NFR7\newline Privacy}
                        & \textbf{NFR8\newline Affordability}
                        \\
                        \hline
                        
                        LPR camera
                        & \cellcolor{pastelGreen}   real-time
                        & \cellcolor{pastelGreen}   high
                        & \cellcolor{pastelOrange}  outdoor-sensitive
                        & \cellcolor{pastelRed}     fixed installation
                        & \cellcolor{pastelRed}     high consumption
                        & \cellcolor{pastelRed}     personal data
                        & \cellcolor{pastelOrange}  high cost
                        \\
                        
                        User identifier\newline (NFC/BLE) (1)
                        & \cellcolor{pastelOrange}  near real-time
                        & \cellcolor{pastelOrange}  user-dependent
                        & \cellcolor{pastelGreen}   outdoor-grade
                        & \cellcolor{pastelGreen}   scalable nodes
                        & \cellcolor{pastelGreen}   low
                        & \cellcolor{pastelGreen}   minimal
                        & \cellcolor{pastelGreen}   low
                        \\
                        
                        Manual report\newline (authority app)
                        & \cellcolor{pastelOrange}  delayed
                        & \cellcolor{pastelOrange}  human-dependent
                        & \cellcolor{pastelGreen}   no hardware
                        & \cellcolor{pastelGreen}   very high
                        & \cellcolor{pastelGreen}   negligible
                        & \cellcolor{pastelGreen}   controlled access
                        & \cellcolor{pastelGreen}   very low
                        \\
                        
                        \hline
                    \end{tabular}
                    }
                    \caption{Evidence acquisition approaches to qualify a violation event (FR5)}
                    \label{tab:fr5_evidence_acquisition}
                \end{table}

                (1): This approach is restricted to violations that can be inferred from authorization data (example: cloned identifiers, expired or invalid authorizations). It does not allow direct identification of a vehicle that occupies a reserved parking space without presenting any authorization, since no vehicle-specific identifier is captured.

                \autoref{tab:fr5_communication_comparison} compares several viable approaches to deliver real-time alerts from the system to authorities.

                \begin{table}[H]
                    \centering
                    {\small
                    \begin{tabular}{p{60pt} p{55pt} p{55pt} p{60pt} p{55pt} p{45pt} p{38pt} p{55pt}}
                        \hline
                        \textbf{Technology}
                        & \textbf{NFR1\newline Performance}
                        & \textbf{NFR2\newline Reliability}
                        & \textbf{NFR3\newline Durability}
                        & \textbf{NFR4\newline Portability}
                        & \textbf{NFR5\newline Efficiency}
                        & \textbf{NFR7\newline Privacy}
                        & \textbf{NFR8\newline Affordability}
                        \\
                        \hline
                        
                         Wi-Fi
                        & \cellcolor{pastelGreen} $<100$ ms
                        & \cellcolor{pastelOrange} local infrastructure dependent
                        & \cellcolor{pastelOrange} $-10$ to $50\,^{\circ}$C
                        & \cellcolor{pastelGreen} $\sim$50 m
                        & \cellcolor{pastelOrange} 200--400 mW
                        & \cellcolor{pastelGreen} MAC address exposure
                        & \cellcolor{pastelGreen} very low
                        \\
                        
                        LTE-M
                        & \cellcolor{pastelGreen} 50--150 ms
                        & \cellcolor{pastelGreen} Managed infrastructure
                        & \cellcolor{pastelGreen} $-40$ to $85\,^{\circ}$C
                        & \cellcolor{pastelGreen} nationwide
                        & \cellcolor{pastelGreen} 50--100 mW
                        & \cellcolor{pastelGreen} SIM-based identity
                        & \cellcolor{pastelOrange} medium
                        \\
                        
                        NB-IoT
                        & \cellcolor{pastelOrange} 1--10 s
                        & \cellcolor{pastelGreen} Managed infrastructure
                        & \cellcolor{pastelGreen} $-40$ to $85\,^{\circ}$C
                        & \cellcolor{pastelGreen} nationwide
                        & \cellcolor{pastelGreen} 10--50 mW
                        & \cellcolor{pastelGreen} SIM-based identity
                        & \cellcolor{pastelGreen} low
                        \\
                        
                        LoRaWAN
                        & \cellcolor{pastelOrange} 5--30 s
                        & \cellcolor{pastelRed} no guarantees on latency or message delivery
                        & \cellcolor{pastelGreen} $-40$ to $85\,^{\circ}$C
                        & \cellcolor{pastelGreen} 2--15 km
                        & \cellcolor{pastelGreen} $<10$ mW
                        & \cellcolor{pastelOrange} Device identifier exposed
                        & \cellcolor{pastelGreen} low
                        \\
                        
                        \hline
                    \end{tabular}
                    }
                    \caption{Communication technology comparison for authority notification (FR5)}
                    \label{tab:fr5_communication_comparison}
                \end{table}
            \end{indt} %}}}3

            So, we have :
            \begin{indi}[0pt]{}
                \item LoRaWAN is an open-standard protocol operating in unlicensed spectrum, well suited for private, low-power, and long-range applications such as agriculture or smart city monitoring, and enabling multi-year battery lifetimes. However, its higher latency make it less appropriate for real-time authority notifications.

                \item NB-IoT (Narrowband IoT) operates on licensed cellular spectrum, providing high reliability, good indoor penetration, and native security mechanisms. While its latency is higher than LTE-M, it remains compatible with the real-time constraints of FR5 and offers very low power consumption, making it particularly suitable for large-scale deployments.

                \item LTE-M also relies on licensed cellular infrastructure and offers lower latency and higher throughput than NB-IoT, which is advantageous for time-critical notifications. This comes at the cost of higher energy consumption and operational expenses, which may limit scalability for dense deployments.

                \item Wi-Fi provides very low latency and high data rates, but its reliability is strongly dependent on the availability and stability of local infrastructure. In outdoor public environments, this dependency reduces robustness and limits its suitability for city-wide authority notification systems.
            \end{indi}
            
            \begin{indt}{\subsubsection{Conclusion}} %{{{3
                Overall, among the considered evidence acquisition approaches, the user identifier–based solution (NFC/BLE) provides the best compromise between reliability, privacy preservation, energy efficiency, and deployment cost. Camera-based solutions introduce significant privacy concerns and higher installation and operational costs, while manual reporting does not satisfy real-time requirements. The identifier-based approach is therefore retained for FR5 — violation evidence acquisition. For violations where no identifier can be collected, the parking space location and timestamp are considered sufficient information for on-site enforcement by patrol units.
                
                Also, among the considered communication technologies, NB-IoT offers the best trade-off between latency, reliability, energy efficiency, security, and cost, and is therefore retained as the preferred solution for implementing FR5 — Authority notification.
            \end{indt} %}}}3

        \end{indt} %}}}2

        % \begin{indt}{\subsection{FR6 -- Parking availability visualization}} %{{{2
        %     \begin{indt}{\subsubsection{Introduction}} %{{{3
        %         The objective of this functional requirement is to provide users with a clear and real-time visualization of available disabled parking spaces within a selected geographical area. This functionality directly improves accessibility for people with disabilities by reducing the time and effort required to locate an appropriate parking space, especially in dense urban environments.
        %
        %         % Within the IoT-based smart parking system, parking availability visualization serves as the primary user-facing interface. It relies on continuously updated parking spot status data collected from distributed IoT nodes and processed by the centralized backend. Accurate and intuitive visualization is essential to ensure user trust and to enable informed decision-making, particularly when combined with reservation capabilities.
        %     \end{indt} %}}}3
        %
        %     \begin{indt}{\subsubsection{Comparison of visualization and mapping solutions}} %{{{3
        %         Several technical solutions can be used to visualize parking availability data. \autoref{tab:fr6_comparison} presents a comparison of the most relevant mechanisms for this project.
        %
        %
        %     \begin{indt}{\subsubsection{Conclusion}} %{{{3
        %         In the light of the \autoref{tab:fr6_comparison}, the \emph{web interface} seems the most appropriate for the user interface as it has the largest compatibility.
        %         Regarding reliability, in the event of a network outage, no real time data is possible. Even if with a native application, it might possible to cache data, it will become outdated and the visualisation will be wrong.
        %         We put a stronger emphasis on the compatibility of end user's device.
        %
        %         This interface will also be appropriate to implement the multi-level authorizations (admin, user, ...)
        %     \end{indt} %}}}3
        % \end{indt} %}}}2
        %
        % \begin{indt}{\subsection{FR7 -- Advance reservation}} %{{{2
        %     \begin{indt}{\subsubsection{Introduction}} %{{{3
        %         The objective of this functional requirement is to allow authorized users to reserve a disabled parking space up to one hour in advance. This feature significantly improves accessibility and planning for people with disabilities by reducing uncertainty when traveling to areas with limited parking availability.
        %
        %         In the context of the IoT-based smart parking system, advance reservation must be tightly integrated with real-time parking availability data to avoid conflicts and ensure fairness. The reservation mechanism must prevent double-booking, enforce time constraints, and remain synchronized with on-site occupancy detection in order to release or confirm reservations accurately.
        %     \end{indt} %}}}3
        %
        %\begin{indt}{\subsection{FR8 -- Reservation timeout management}} %{{{2
        %    \begin{indt}{\subsubsection{Introduction}} %{{{3
        %        The objective of this functional requirement is to automatically cancel a parking space reservation if the reserved vehicle does not arrive within a predefined grace period. This functionality is essential to ensure efficient utilization of disabled parking spaces and to prevent situations where a space remains unused due to unfulfilled reservations.
        %
        %        In the context of the IoT-based smart parking system, reservation timeout management must operate reliably and autonomously by correlating reservation timestamps with real-time occupancy detection data. By enforcing a grace period, the system balances flexibility for users with the need to maximize availability and fairness for other authorized drivers.
        %    \end{indt} %}}}3
        %
        %    \begin{indt}{\subsubsection{Comparison of reservation timeout approaches}} %{{{3
        %       Several technical approaches can be used to manage reservation timeout. \autoref{tab:fr8_comparison} compares the most relevant solutions for this project.
        %            \end{indt} %}}}3
        %
        %    \begin{indt}{\subsubsection{Conclusion}} %{{{3
        %        XXX
        %    \end{indt} %}}}3
        %
        %    \begin{indt}{\subsubsection{References}} %{{{3
        %        \begin{indi}[0pt]{}
        %            \item XXX: \\
        %                \url{https://}
        %            \item XXX: \\
        %                \url{https://}
        %            \item XXX: \\
        %                \url{https://}
        %        \end{indi}
        %    \end{indt} %}}}3
        %\end{indt} %}}}2

        \begin{indt}{\subsection{FR9 -- Parking spot status display}} %{{{2
            \begin{indt}{\subsubsection{Introduction}} %{{{3
                The objective of this functional requirement is to display the current status of a disabled parking space, namely whether it is \texttt{free}, \texttt{reserved}, or \texttt{occupied}, as well as the \texttt{outcome of the user authentication process}. This includes clear feedback indicating whether the presented tag has been successfully recognized, rejected, or requires the user to retry. This information must be directly observable from a distance in order to guide users and support reservation enforcement.

                In the proposed IoT-based smart parking system, the displayed status is derived from the aggregation of multiple data sources, including real-time occupancy detection at the node level, reservation information managed by the backend, and local authentication results. The display mechanism must therefore provide a clear, reliable, and immediate representation of both parking and access-control states, while remaining compatible with outdoor deployment constraints, low-power operation, and large-scale municipal rollout.

            \end{indt} %}}}3

            \begin{indt}{\subsubsection{Comparison of parking spot status display mechanisms}} %{{{3
                Several approaches can be used to determine and display the parking spot status
                \autoref{tab:fr9_display_comparison} compares the most relevant solutions for this project.

                \begin{table}[H]
                    \centering
                    {\small
                    \begin{tabular}{p{60pt} p{55pt} p{55pt} p{60pt} p{55pt} p{45pt} p{38pt} p{55pt}}
                        \hline
                        \textbf{Technology}
                        & \textbf{NFR1\newline Performance}
                        & \textbf{NFR2\newline Reliability}
                        & \textbf{NFR3\newline Durability}
                        & \textbf{NFR4\newline Portability}
                        & \textbf{NFR5\newline Efficiency}
                        & \textbf{NFR7\newline Privacy}
                        & \textbf{NFR8\newline Affordability}
                        \\
                        \hline
                        
                        Multiple LEDs
                        & \cellcolor{pastelGreen} $<100$ ms
                        & \cellcolor{pastelGreen} very high
                        & \cellcolor{pastelGreen} $-40$ to $85\,^{\circ}$C
                        & \cellcolor{pastelGreen} very compact
                        & \cellcolor{pastelGreen} $<10$ mW
                        & \cellcolor{pastelGreen} no data
                        & \cellcolor{pastelGreen} very low
                        \\
                        
                        7-seg LED
                        & \cellcolor{pastelGreen} $<200$ ms
                        & \cellcolor{pastelGreen} high
                        & \cellcolor{pastelOrange} $-20$ to $70\,^{\circ}$C
                        & \cellcolor{pastelGreen} compact
                        & \cellcolor{pastelOrange} 20--50 mW
                        & \cellcolor{pastelGreen} no data
                        & \cellcolor{pastelGreen} low
                        \\
                        
                        LCD 16$\times$2
                        & \cellcolor{pastelOrange} $<500$ ms
                        & \cellcolor{pastelOrange} medium
                        & \cellcolor{pastelOrange} $-20$ to $70\,^{\circ}$C
                        & \cellcolor{pastelOrange} large module
                        & \cellcolor{pastelOrange} 20--60 mW
                        & \cellcolor{pastelGreen} no data
                        & \cellcolor{pastelGreen} low
                        \\
                        
                        Graphic LCD / OLED
                        & \cellcolor{pastelGreen} $<300$ ms
                        & \cellcolor{pastelOrange} medium
                        & \cellcolor{pastelOrange} $-20$ to $60\,^{\circ}$C
                        & \cellcolor{pastelOrange} medium
                        & \cellcolor{pastelRed} 40--100 mW
                        & \cellcolor{pastelGreen} no data
                        & \cellcolor{pastelOrange} medium
                        \\
                        
                        E-paper
                        & \cellcolor{pastelRed} seconds
                        & \cellcolor{pastelGreen} high
                        & \cellcolor{pastelOrange} $-20$ to $60\,^{\circ}$C
                        & \cellcolor{pastelGreen} thin
                        & \cellcolor{pastelGreen} $\approx 0$ mW static
                        & \cellcolor{pastelGreen} no data
                        & \cellcolor{pastelOrange} medium--high
                        \\
                        
                        \hline
                    \end{tabular}
                    }
                    \caption{Status display technology comparison for FR9}
                    \label{tab:fr9_display_comparison}
                \end{table}
            \end{indt} %}}}3

            \begin{indt}{\subsubsection{Conclusion}} %{{{3
                Among the considered parking spot status display mechanisms, multiple LEDs provide the best compromise between performance, reliability, durability, energy efficiency, portability, and affordability. This solution fully satisfies the requirements of FR9 by enabling both an immediate visualization of the parking spot state and clear user feedback on authentication outcomes, while remaining compliant with privacy constraints, as no personal or vehicle-related data is displayed.

                Furthermore, the use of a combination of three LEDs (\texttt{red}, \texttt{orange}, and \texttt{green}), each supporting three operating states (\texttt{OFF}, \texttt{ON}, and \texttt{blinking}), provides a sufficiently clear and simple signaling space to convey all required information.

                This approach avoids unnecessary display complexity while ensuring immediate user comprehension, robustness in outdoor environments, and minimal power consumption, making it particularly well suited for large-scale deployment.
            \end{indt} %}}}3

        \end{indt} %}}}2

    \end{indt} %}}}1

    \newpage

    \begin{indt}{\section{Design}} %{{{1
        \begin{indt}{\subsection{Selected Hardware and Technologies}} %{{{2
            \begin{table}[H]% {{{3
                \centering
            
                \begin{tabular}{|l p{9cm}|}
                    \hline

                    \textbf{Technology}
                    & \textbf{Choice}
                    \\

                    \hline
                    \hline
                    Microcontroller
                    & NodeMCU ESP8266 (integrated Wi-Fi, low power)
                    \\

                    \hline
                    Occupancy sensor
                    & Ultrasonic sensor
                    \\

                    \hline
                    Authorization
                    & RFID reader (Mifare Classic)
                    \\
                    
                    \hline
                    Connectivity
                    & Wi-Fi
                    \\

                    \hline
                    Backend
                    & TODO
                    \\
                    
                    \hline
                    Frontend
                    & TODO
                    \\

                    \hline
                \end{tabular}
            
                \caption{Selected hardware and technologies}
                \label{tab:selected}
            \end{table}% }}}3
        \end{indt} %}}}2
    \end{indt} %}}}1

    \begin{indt}{\section{Conclusion}} %{{{1
        This IoT-based smart parking system addresses a real societal need by improving accessibility for people with disabilities while providing authorities with efficient tools to prevent abuse.
        The proposed architecture is scalable, energy-efficient, and compliant with security and privacy requirements, making it suitable for real-world deployment.
    \end{indt} %}}}1

    \begin{indt}{\section{Annexes}} %{{{1
        \begin{itemize}[itemsep=0pt, leftmargin=\leftskip+12pt]
            \item NodeMCU ESP8266 Datasheet: 
                \url{https://cdn-shop.adafruit.com/product-files/2471/0A-ESP8266__Datasheet__EN_v4.3.pdf}

            \item MFRC522 RFID Reader Datasheet (NXP): 
                \url{https://www.nxp.com/docs/en/data-sheet/MFRC522.pdf}

            \item HC-SR04 Ultrasonic Distance Sensor Datasheet: 
                \url{https://cdn.sparkfun.com/datasheets/Sensors/Proximity/HCSR04.pdf}

        \end{itemize}
    \end{indt} %}}}1
    
\end{document}
%--------------------------------------------End

% vim:foldmethod=marker:foldlevel=0
